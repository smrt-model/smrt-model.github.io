<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>smrt.core.layer module &#8212; SMRT 0 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="SMRT 0 documentation" href="index.html" />
    <link rel="up" title="smrt.core package" href="smrt.core.html" />
    <link rel="next" title="smrt.core.model module" href="smrt.core.model.html" />
    <link rel="prev" title="smrt.core.globalconstants module" href="smrt.core.globalconstants.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="smrt.inputs.html">Inputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="smrt.permittivity.html">Permittivity</a></li>
<li class="toctree-l1"><a class="reference internal" href="smrt.microstructure_model.html">Microstructure Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="smrt.interface.html">Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="smrt.substrate.html">Substrate</a></li>
<li class="toctree-l1"><a class="reference internal" href="smrt.atmosphere.html">Atmosphere</a></li>
<li class="toctree-l1"><a class="reference internal" href="smrt.emmodel.html">Electromagnetic Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="smrt.rtsolver.html">Radiative Transfer Solver</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="smrt.core.html">Core</a></li>
<li class="toctree-l1"><a class="reference internal" href="smrt.utils.html">Utilities and tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_guidelines.html">Developer Guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html">SMRT Documentation</a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="smrt.core.html">smrt.core package</a><ul>
      <li>Previous: <a href="smrt.core.globalconstants.html" title="previous chapter">smrt.core.globalconstants module</a></li>
      <li>Next: <a href="smrt.core.model.html" title="next chapter">smrt.core.model module</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-smrt.core.layer">
<span id="smrt-core-layer-module"></span><h1>smrt.core.layer module<a class="headerlink" href="#module-smrt.core.layer" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="#smrt.core.layer.Layer" title="smrt.core.layer.Layer"><code class="xref py py-class docutils literal"><span class="pre">Layer</span></code></a> instance contains all the properties for a single snow layer (e.g. temperature, frac_volume, etc).
It also contains a <cite>microstructure</cite> attribute that holds the microstructural properties (e.g. radius, corr_length, etc).
The class of this attribute defines the microstructure model to use (see <a class="reference internal" href="smrt.microstructure_model.html#module-smrt.microstructure_model" title="smrt.microstructure_model"><code class="xref py py-mod docutils literal"><span class="pre">smrt.microstructure_model</span></code></a> package).</p>
<p>To create a single layer, it is recommended to use the function <a class="reference internal" href="smrt.inputs.make_medium.html#smrt.inputs.make_medium.make_snow_layer" title="smrt.inputs.make_medium.make_snow_layer"><code class="xref py py-func docutils literal"><span class="pre">make_snow_layer()</span></code></a> rather than the class constructor. However it is usually more convenient
to create a snowpack using <a class="reference internal" href="smrt.inputs.make_medium.html#smrt.inputs.make_medium.make_snowpack" title="smrt.inputs.make_medium.make_snowpack"><code class="xref py py-func docutils literal"><span class="pre">make_snowpack()</span></code></a>.</p>
<div class="admonition-for-developers admonition">
<p class="first admonition-title"><strong>For developers</strong></p>
<p class="last">The <a class="reference internal" href="#smrt.core.layer.Layer" title="smrt.core.layer.Layer"><code class="xref py py-class docutils literal"><span class="pre">Layer</span></code></a> class should not be modified at all even if you need new properties to define the layer (e.g. brine concentration, humidity, ...). If the property you need to add is
related to geometric aspects, it is probably better to use an existing microstructure model or to create a new one. If the new parameter is not related to geometrical aspect,
write a function similar to <a class="reference internal" href="smrt.inputs.make_medium.html#smrt.inputs.make_medium.make_snow_layer" title="smrt.inputs.make_medium.make_snow_layer"><code class="xref py py-func docutils literal"><span class="pre">make_snow_layer()</span></code></a> (choose an explicit name for your purpose). In this function, create the layer by calling the Layer
constructor as in <a class="reference internal" href="smrt.inputs.make_medium.html#smrt.inputs.make_medium.make_snow_layer" title="smrt.inputs.make_medium.make_snow_layer"><code class="xref py py-func docutils literal"><span class="pre">make_snow_layer()</span></code></a> and then add your properties with lay.myproperty=xxx, ... See the example of liquid water in <a class="reference internal" href="smrt.inputs.make_medium.html#smrt.inputs.make_medium.make_snow_layer" title="smrt.inputs.make_medium.make_snow_layer"><code class="xref py py-func docutils literal"><span class="pre">make_snow_layer()</span></code></a>.
This approach avoids specialization of the Layer class. The new function can be in any file (inc. out of smrt directories), and should be added in <a class="reference internal" href="smrt.inputs.make_medium.html#module-smrt.inputs.make_medium" title="smrt.inputs.make_medium"><code class="xref py py-mod docutils literal"><span class="pre">make_medium</span></code></a>
if it is of general interest and written in a generic way, that is, covers many use cases for many users with default arguments, etc.</p>
</div>
<dl class="class">
<dt id="smrt.core.layer.Layer">
<em class="property">class </em><code class="descname">Layer</code><span class="sig-paren">(</span><em>thickness</em>, <em>microstructure_model</em>, <em>frac_volume=None</em>, <em>temperature=273.15</em>, <em>permittivity_model=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#smrt.core.layer.Layer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Contains the properties for a single snow layer including the microstructure attribute which holds the microstructure properties.</p>
<p>To create layer, it is recommended to use of the functions <code class="xref py py-meth docutils literal"><span class="pre">make_snow_layer()</span></code> and similar</p>
<dl class="attribute">
<dt id="smrt.core.layer.Layer.ssa">
<code class="descname">ssa</code><a class="headerlink" href="#smrt.core.layer.Layer.ssa" title="Permalink to this definition">¶</a></dt>
<dd><p>return the SSA, compute it if necessary</p>
</dd></dl>

<dl class="method">
<dt id="smrt.core.layer.Layer.permittivity">
<code class="descname">permittivity</code><span class="sig-paren">(</span><em>i</em>, <em>frequency</em><span class="sig-paren">)</span><a class="headerlink" href="#smrt.core.layer.Layer.permittivity" title="Permalink to this definition">¶</a></dt>
<dd><p>return the permittivity of the i-th medium depending on the frequency and internal layer properties. Usually i=0 is air and i=1 is ice for dry snow with a low or moderate density.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>i</strong> &#8211; number of the medium. 0 is reserved for the background</li>
<li><strong>frequency</strong> &#8211; frequency of the wave (Hz)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">complex permittivity of the i-th medium</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="smrt.core.layer.Layer.basic_checks">
<code class="descname">basic_checks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#smrt.core.layer.Layer.basic_checks" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to provide very basic input checks on the layer information</p>
<p>Currently checks:</p>
<ul class="simple">
<li>temperature is between 100 and the freezing point (Kelvin units check),</li>
<li>density is between 1 and DENSITY_OF_ICE (SI units check)</li>
<li>layer thickness is above zero</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="smrt.core.layer.Layer.inverted_medium">
<code class="descname">inverted_medium</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#smrt.core.layer.Layer.inverted_medium" title="Permalink to this definition">¶</a></dt>
<dd><p>return the layer with inverted autocorrelation and inverted permittivities.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="smrt.core.layer.get_microstructure_model">
<code class="descname">get_microstructure_model</code><span class="sig-paren">(</span><em>modulename</em>, <em>classname=None</em><span class="sig-paren">)</span><a class="headerlink" href="#smrt.core.layer.get_microstructure_model" title="Permalink to this definition">¶</a></dt>
<dd><p>return the class corresponding to the microstructure_model defined in modulename.</p>
<p>This function import the correct module if possible and return the class. It is used internally and should not be needed for normal usage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>modulename</strong> &#8211; name of the python module in smrt/microstructure_model</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="smrt.core.layer.make_microstructure_model">
<code class="descname">make_microstructure_model</code><span class="sig-paren">(</span><em>modelname_or_class</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#smrt.core.layer.make_microstructure_model" title="Permalink to this definition">¶</a></dt>
<dd><p>create an microstructure instance.</p>
<blockquote>
<div><p>This function is called internally and should not be needed for normal use.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param modelname_or_class:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">name of the module or directly the class.</td>
</tr>
<tr class="field-even field"><th class="field-name">param type:</th><td class="field-body">string</td>
</tr>
<tr class="field-odd field"><th class="field-name">param <a href="#id1"><span class="problematic" id="id2">**</span></a>kwargs:</th><td class="field-body">all the arguments need for the specific autocorrelation.</td>
</tr>
<tr class="field-even field"><th class="field-name">returns:</th><td class="field-body">instance of the autocorrelation <cite>modelname</cite> with the parameters given in <cite>**kwargs</cite></td>
</tr>
</tbody>
</table>
</div></blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<p>To import the StickyHardSpheres class with spheres radius of 1mm, stickiness of 0.5 and fractional_volume of 0.3:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">shs</span> <span class="o">=</span> <span class="n">make_autocorrelation</span><span class="p">(</span><span class="s2">&quot;StickyHardSpheres&quot;</span><span class="p">,</span> <span class="n">radius</span><span class="o">=</span><span class="mf">0.001</span><span class="p">,</span> <span class="n">stickiness</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">frac_volume</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="smrt.core.layer.required_layer_properties">
<code class="descname">required_layer_properties</code><span class="sig-paren">(</span><em>*required_arguments</em><span class="sig-paren">)</span><a class="headerlink" href="#smrt.core.layer.required_layer_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>This decorator is used for the permittivity functions. It declares the layer properties needed to call
the function. This allows permittivity functions to use any properties of the layer, as long as it is defined.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2016, G. Picard, M. Sandells, H. Löwe.
      
      |
      <a href="_sources/smrt.core.layer.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>